---
phase: 12-theme-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/styles/win98-variables.css
  - src/styles/win98-bevels.css
  - src/styles/win98-typography.css
  - src/styles/win98-schemes.css
  - assets/fonts/ms_sans_serif.woff
  - assets/fonts/ms_sans_serif.woff2
  - assets/fonts/ms_sans_serif_bold.woff
  - assets/fonts/ms_sans_serif_bold.woff2
autonomous: true

must_haves:
  truths:
    - "Win98 CSS variables are defined with canonical names (--win98-ButtonFace, etc.) and semantic aliases"
    - "Bevel utility classes exist using ONLY CSS border properties (zero box-shadow) with ::before pseudo-elements for 2px depth"
    - "MS Sans Serif bitmap font is bundled and loaded via @font-face with antialiasing disabled"
    - "Three Win98 color schemes are defined as CSS class overrides"
  artifacts:
    - path: "src/styles/win98-variables.css"
      provides: "Win98 system color variables and semantic aliases"
      contains: "--win98-ButtonFace"
    - path: "src/styles/win98-bevels.css"
      provides: "Bevel utility classes using CSS border colors"
      contains: ".win98-raised"
    - path: "src/styles/win98-typography.css"
      provides: "@font-face declarations and font rules"
      contains: "Pixelated MS Sans Serif"
    - path: "src/styles/win98-schemes.css"
      provides: "Win98 color scheme classes"
      contains: ".theme-high-contrast"
    - path: "assets/fonts/ms_sans_serif.woff2"
      provides: "Bitmap font file for UI text"
  key_links:
    - from: "src/styles/win98-variables.css"
      to: "src/styles/win98-bevels.css"
      via: "CSS variable references"
      pattern: "var\\(--win98-"
    - from: "src/styles/win98-schemes.css"
      to: "src/styles/win98-variables.css"
      via: "CSS variable overrides"
      pattern: "--win98-ButtonFace"
---

<objective>
Create the Win98 CSS foundation: system color variables, bevel utility classes, bitmap typography, and color scheme definitions.

Purpose: Establish the complete Win98 visual vocabulary as reusable CSS that all subsequent phases (13-16) will consume. This is the single source of truth for Win98 colors, borders, and fonts.

Output: Four new CSS files in src/styles/ and four font files in assets/fonts/.
</objective>

<execution_context>
@C:\Users\arcje\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\arcje\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-theme-foundation/12-CONTEXT.md
@.planning/phases/12-theme-foundation/12-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Download MS Sans Serif bitmap fonts and create typography CSS</name>
  <files>
    assets/fonts/ms_sans_serif.woff
    assets/fonts/ms_sans_serif.woff2
    assets/fonts/ms_sans_serif_bold.woff
    assets/fonts/ms_sans_serif_bold.woff2
    src/styles/win98-typography.css
  </files>
  <action>
    1. Create `assets/fonts/` directory.

    2. Download Pixelated MS Sans Serif web fonts from the 98.css project on GitHub:
       - https://raw.githubusercontent.com/jdan/98.css/main/fonts/ms_sans_serif.woff
       - https://raw.githubusercontent.com/jdan/98.css/main/fonts/ms_sans_serif.woff2
       - https://raw.githubusercontent.com/jdan/98.css/main/fonts/ms_sans_serif_bold.woff
       - https://raw.githubusercontent.com/jdan/98.css/main/fonts/ms_sans_serif_bold.woff2
       Use curl or similar to download. If download fails, try alternative URLs from unpkg (https://unpkg.com/98.css/fonts/).

    3. Create `src/styles/` directory.

    4. Create `src/styles/win98-typography.css` with:
       - Two @font-face declarations: normal and bold weight for "Pixelated MS Sans Serif"
       - Font paths relative from src/styles/ to assets/fonts/ (use ../../assets/fonts/)
       - Body font rule: font-family "Pixelated MS Sans Serif", "Microsoft Sans Serif", Tahoma, Arial, sans-serif at 11px
       - Antialiasing disabled: -webkit-font-smoothing: none; -moz-osx-font-smoothing: grayscale; font-smooth: never
       - Secondary text class (.win98-text-small) at 10px for status bar
       - Bold caption class (.win98-text-caption) with font-weight: bold for title bars
  </action>
  <verify>
    - Confirm all 4 font files exist in assets/fonts/ and are non-empty (check file sizes > 0)
    - Confirm src/styles/win98-typography.css exists and contains @font-face declarations
  </verify>
  <done>Font files are bundled and typography CSS defines @font-face with antialiasing disabled, 11px primary and 10px secondary sizes.</done>
</task>

<task type="auto">
  <name>Task 2: Create Win98 CSS variables, bevel utilities, and color schemes</name>
  <files>
    src/styles/win98-variables.css
    src/styles/win98-bevels.css
    src/styles/win98-schemes.css
  </files>
  <action>
    1. Create `src/styles/win98-variables.css` with BOTH tiers of CSS variables in :root:

       **Tier 1 — Win98 Canonical Names** (exact values from research):
       - --win98-ButtonFace: #c0c0c0
       - --win98-ButtonHighlight: #ffffff
       - --win98-ButtonLight: #dfdfdf
       - --win98-ButtonShadow: #808080
       - --win98-ButtonDkShadow: #000000
       - --win98-ButtonText: #000000
       - --win98-Window: #ffffff
       - --win98-WindowText: #000000
       - --win98-WindowFrame: #000000
       - --win98-ActiveCaption: #000080
       - --win98-GradientActiveCaption: #1084d0
       - --win98-InactiveCaption: #808080
       - --win98-GradientInactiveCaption: #c0c0c0
       - --win98-CaptionText: #ffffff
       - --win98-InactiveCaptionText: #c0c0c0
       - --win98-Menu: #c0c0c0
       - --win98-MenuText: #000000
       - --win98-Highlight: #000080
       - --win98-HighlightText: #ffffff
       - --win98-InfoWindow: #ffffe1
       - --win98-InfoText: #000000
       - --win98-GrayText: #808080
       - --win98-AppWorkspace: #808080
       - --win98-Scrollbar: #c0c0c0

       **Tier 2 — Semantic Aliases** (mapped to Tier 1 via var()):
       - --surface: var(--win98-ButtonFace)
       - --surface-light: var(--win98-ButtonLight)
       - --text-primary: var(--win98-WindowText)
       - --text-secondary: var(--win98-ButtonText)
       - --text-disabled: var(--win98-GrayText)
       - --bg-primary: var(--win98-ButtonFace)
       - --bg-secondary: var(--win98-ButtonFace)
       - --bg-tertiary: var(--win98-ButtonFace)
       - --bg-hover: var(--win98-ButtonLight)
       - --bg-active: var(--win98-ButtonShadow)
       - --bg-window: var(--win98-Window)
       - --border-default: var(--win98-ButtonShadow)
       - --border-subtle: var(--win98-ButtonShadow)
       - --border-light: var(--win98-ButtonHighlight)
       - --border-dark: var(--win98-ButtonDkShadow)
       - --accent-primary: var(--win98-Highlight)
       - --accent-hover: var(--win98-Highlight)
       - --accent-active: var(--win98-Highlight)
       - --scrollbar-track: var(--win98-Scrollbar)
       - --scrollbar-thumb: var(--win98-ButtonFace)
       - --scrollbar-thumb-hover: var(--win98-ButtonLight)
       - --input-bg: var(--win98-Window)
       - --input-border: var(--win98-ButtonShadow)
       - --input-focus: var(--win98-Highlight)
       - --slider-track: var(--win98-ButtonShadow)
       - --slider-thumb: var(--win98-ButtonFace)
       - --slider-thumb-active: var(--win98-ButtonFace)
       - --workspace-bg: var(--win98-AppWorkspace)
       - --text-tertiary: var(--win98-GrayText)

    2. Create `src/styles/win98-bevels.css` with bevel utility classes.

       **CRITICAL: Use CSS border colors ONLY — NO box-shadow.** This is a locked user decision.

       **CRITICAL: Use CSS border colors ONLY — NO box-shadow of any kind.** This is a locked user decision.
       The user explicitly said "no box-shadow tricks" — this means zero box-shadow properties, including 0-blur inset shadows.

       For 2px depth bevels, use a `::before` pseudo-element to create a second border layer.

       Classes to create:

       **1px simple bevels (border only):**
       - `.win98-raised`: 1px raised — border-top/left: ButtonHighlight, border-bottom/right: ButtonDkShadow
       - `.win98-sunken`: 1px sunken — border-top/left: ButtonDkShadow, border-bottom/right: ButtonHighlight

       **2px deep bevels (border + ::before pseudo-element for inner layer):**
       - `.win98-raised-deep`: 2px raised
       - `.win98-sunken-deep`: 2px sunken
       - `.win98-field`: sunken field for text inputs (2px sunken depth)
       - `.win98-well`: deep sunken well for canvas/document areas

       **Etched grooves (border only):**
       - `.win98-etched-h`: horizontal etched groove (border-top shadow + border-bottom highlight)
       - `.win98-etched-v`: vertical etched groove (border-left shadow + border-right highlight)

       For the 2px raised deep bevel:
       ```css
       .win98-raised-deep {
         /* Outer layer */
         border-top: 1px solid var(--win98-ButtonHighlight);
         border-left: 1px solid var(--win98-ButtonHighlight);
         border-right: 1px solid var(--win98-ButtonDkShadow);
         border-bottom: 1px solid var(--win98-ButtonDkShadow);
         position: relative;
       }
       .win98-raised-deep::before {
         content: '';
         position: absolute;
         inset: 0;
         /* Inner layer */
         border-top: 1px solid var(--win98-ButtonLight);
         border-left: 1px solid var(--win98-ButtonLight);
         border-right: 1px solid var(--win98-ButtonShadow);
         border-bottom: 1px solid var(--win98-ButtonShadow);
         pointer-events: none;
       }
       ```

       For the 2px sunken deep bevel:
       ```css
       .win98-sunken-deep {
         /* Outer layer */
         border-top: 1px solid var(--win98-ButtonDkShadow);
         border-left: 1px solid var(--win98-ButtonDkShadow);
         border-right: 1px solid var(--win98-ButtonHighlight);
         border-bottom: 1px solid var(--win98-ButtonHighlight);
         position: relative;
       }
       .win98-sunken-deep::before {
         content: '';
         position: absolute;
         inset: 0;
         /* Inner layer */
         border-top: 1px solid var(--win98-ButtonShadow);
         border-left: 1px solid var(--win98-ButtonShadow);
         border-right: 1px solid var(--win98-ButtonLight);
         border-bottom: 1px solid var(--win98-ButtonLight);
         pointer-events: none;
       }
       ```

       For `.win98-field` (sunken field — same pattern as sunken-deep, used for text inputs):
       ```css
       .win98-field {
         border-top: 1px solid var(--win98-ButtonShadow);
         border-left: 1px solid var(--win98-ButtonShadow);
         border-right: 1px solid var(--win98-ButtonHighlight);
         border-bottom: 1px solid var(--win98-ButtonHighlight);
         position: relative;
       }
       .win98-field::before {
         content: '';
         position: absolute;
         inset: 0;
         border-top: 1px solid var(--win98-ButtonDkShadow);
         border-left: 1px solid var(--win98-ButtonDkShadow);
         border-right: 1px solid var(--win98-ButtonLight);
         border-bottom: 1px solid var(--win98-ButtonLight);
         pointer-events: none;
       }
       ```

       For `.win98-well` (deep sunken for canvas/document areas — same as sunken-deep):
       ```css
       .win98-well {
         border-top: 1px solid var(--win98-ButtonDkShadow);
         border-left: 1px solid var(--win98-ButtonDkShadow);
         border-right: 1px solid var(--win98-ButtonHighlight);
         border-bottom: 1px solid var(--win98-ButtonHighlight);
         position: relative;
       }
       .win98-well::before {
         content: '';
         position: absolute;
         inset: 0;
         border-top: 1px solid var(--win98-ButtonShadow);
         border-left: 1px solid var(--win98-ButtonShadow);
         border-right: 1px solid var(--win98-ButtonLight);
         border-bottom: 1px solid var(--win98-ButtonLight);
         pointer-events: none;
       }
       ```

       **Important note for all deep bevel classes:** Elements using these classes MUST have `position: relative` (or absolute/fixed) for the ::before pseudo-element to position correctly. The classes already set this. If an element already has a ::before pseudo-element for other purposes, the component will need to use an inner wrapper element instead.

    3. Create `src/styles/win98-schemes.css` with 3 color scheme classes:

       **Default: Windows Standard** — no class needed, values are in :root

       **Scheme 1: `.theme-high-contrast`** (High Contrast #1 Black):
       - --win98-ButtonFace: #000000
       - --win98-ButtonText: #ffffff
       - --win98-ButtonHighlight: #808080
       - --win98-ButtonLight: #404040
       - --win98-ButtonShadow: #808080
       - --win98-ButtonDkShadow: #ffffff
       - --win98-Window: #000000
       - --win98-WindowText: #ffffff
       - --win98-ActiveCaption: #800080
       - --win98-GradientActiveCaption: #800080
       - --win98-CaptionText: #ffffff
       - --win98-Highlight: #800080
       - --win98-HighlightText: #ffffff
       - --win98-GrayText: #00ff00
       - --win98-AppWorkspace: #000000
       - --win98-Scrollbar: #000000
       - (all other colors adjusted for high contrast)

       **Scheme 2: `.theme-desert`** (Desert):
       - --win98-ButtonFace: #d6c8a4
       - --win98-ButtonHighlight: #ffffff
       - --win98-ButtonLight: #e8dcc8
       - --win98-ButtonShadow: #9e8e6c
       - --win98-ButtonDkShadow: #4a3e28
       - --win98-Window: #ffffff
       - --win98-WindowText: #000000
       - --win98-ActiveCaption: #a55028
       - --win98-GradientActiveCaption: #c87850
       - --win98-AppWorkspace: #9e8e6c
       - --win98-Scrollbar: #d6c8a4
       - (warm sandy tones throughout)

       Each scheme class overrides ALL --win98-* variables so bevels and everything adapt.
  </action>
  <verify>
    - Confirm all 3 CSS files exist in src/styles/
    - Confirm win98-variables.css has :root block with both Tier 1 and Tier 2 variables
    - Confirm win98-bevels.css has .win98-raised, .win98-sunken, .win98-raised-deep, .win98-sunken-deep, .win98-etched-h, .win98-etched-v, .win98-field, .win98-well classes
    - Confirm win98-schemes.css has .theme-high-contrast and .theme-desert classes
    - Confirm bevel classes use ONLY CSS border properties — grep for "box-shadow" in win98-bevels.css must return zero matches
    - Confirm 2px deep bevel classes use ::before pseudo-elements for the inner border layer
  </verify>
  <done>Complete Win98 CSS variable system with 24 system colors, semantic aliases, 8 bevel utility classes, and 3 color schemes (Standard, High Contrast, Desert).</done>
</task>

</tasks>

<verification>
1. All 4 CSS files exist in src/styles/ with correct content
2. All 4 font files exist in assets/fonts/ and are non-zero size
3. CSS variables follow the two-tier naming convention (--win98-* canonical, semantic aliases)
4. Bevel classes use CSS border colors as primary mechanism
5. All three color schemes define complete variable overrides
6. Typography CSS includes @font-face with both weights and antialiasing disabled
</verification>

<success_criteria>
- Win98 CSS foundation files exist and are self-consistent
- Font files are bundled and loadable
- Bevel vocabulary covers raised, sunken, etched, field, and well patterns
- Three color schemes are defined with complete variable coverage
</success_criteria>

<output>
After completion, create `.planning/phases/12-theme-foundation/12-01-SUMMARY.md`
</output>
