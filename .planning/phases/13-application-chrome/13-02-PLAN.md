---
phase: 13-application-chrome
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/App.css
  - src/App.tsx
autonomous: true

must_haves:
  truths:
    - "Panel divider handles appear as thin (4-5px) raised bars with cursor change on hover"
    - "All dividers look the same regardless of orientation or position"
    - "No visual highlight on divider hover (cursor change only)"
    - "Panel title bar shows blue-to-dark gradient when active and grey gradient when inactive"
    - "Active vs inactive title bar state tracks which panel has focus"
  artifacts:
    - path: "src/App.css"
      provides: "XP Classic resize handle and title bar styling"
      contains: "panel-title-bar.active"
    - path: "src/App.tsx"
      provides: "Title bar active/inactive focus tracking"
      contains: "active"
  key_links:
    - from: "src/App.tsx"
      to: "src/App.css"
      via: "CSS class toggling"
      pattern: "panel-title-bar"
---

<objective>
Style panel dividers and title bars with XP Classic chrome.

Purpose: CHROME-03 and CHROME-04 -- panel dividers need to appear as thin raised bars (cursor change only on hover), and inner title bars need active blue / inactive grey gradient states.

Output: All resize handles styled as uniform thin raised bars. Panel title bar switches between active (blue gradient) and inactive (grey gradient) based on focus.
</objective>

<execution_context>
@C:\Users\arcje\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\arcje\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-application-chrome/13-CONTEXT.md
@.planning/phases/13-application-chrome/13-RESEARCH.md
@src/App.tsx
@src/App.css
@src/styles/win98-variables.css
@src/styles/win98-bevels.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: XP Classic panel divider handles</name>
  <files>
    src/App.css
  </files>
  <action>
Replace the existing resize handle styles in App.css with XP Classic styling:

1. **Vertical resize handle** (`.resize-handle-vertical`):
   - `flex: 0 0 4px` (4px thin)
   - `background: var(--win98-ButtonFace)`
   - `cursor: col-resize`
   - `position: relative`
   - `border-left: 1px solid var(--win98-ButtonHighlight)` (light edge)
   - `border-right: 1px solid var(--win98-ButtonShadow)` (dark edge)
   - This creates a subtle raised bar appearance.

2. **Remove hover highlight**: Delete the `.resize-handle-vertical:hover` rule that changes `background-color` to accent. Per CONTEXT.md: "cursor change only -- no visual highlight on the divider itself."

3. **Keep the hit target expansion** in `::before` but change nothing else about it (keep the `left: -4px`, `right: -4px` pattern for easier grabbing).

4. **Remove active drag highlighting**: Delete `.resize-handle-vertical[data-resize-handle-active]` rule that changes background color. The divider should look the same whether being dragged or not.

5. **Horizontal resize handle** (`.resize-handle-horizontal`):
   - `flex: 0 0 4px` (change from 6px to 4px for uniformity -- CONTEXT.md says "all dividers look the same")
   - `background: var(--win98-ButtonFace)`
   - `cursor: row-resize`
   - `position: relative`
   - `border-top: 1px solid var(--win98-ButtonHighlight)` (light edge)
   - `border-bottom: 1px solid var(--win98-ButtonShadow)` (dark edge)
   - Remove `display: flex`, `align-items: center`, `justify-content: center` (not needed, no grip content).

6. **Remove hover/active highlights for horizontal**: Delete `.resize-handle-horizontal:hover` and `.resize-handle-horizontal[data-resize-handle-active]` rules.

Do NOT add grip dot patterns. The dividers should be plain raised bars per the "cursor change only" decision.
  </action>
  <verify>
Visually inspect that both vertical and horizontal dividers appear as thin (4px) raised bars. Confirm no color change on hover (only cursor changes). Confirm dividers are visually identical in styling.
  </verify>
  <done>
All panel dividers are uniformly 4px thin raised bars. No visual highlight on hover or drag -- cursor change only.
  </done>
</task>

<task type="auto">
  <name>Task 2: XP Classic title bar active/inactive states</name>
  <files>
    src/App.css
    src/App.tsx
  </files>
  <action>
**App.css** -- Update the `.panel-title-bar` styles:

1. **Base title bar**: Keep `padding: 2px 8px`, `font-size: 11px`, `font-weight: bold`, `min-height: 18px`, `display: flex`, `align-items: center`, `user-select: none`.

2. **Active state** (`.panel-title-bar.active`):
   - `background: linear-gradient(to right, var(--win98-ActiveCaption), var(--win98-GradientActiveCaption))`
   - `color: var(--win98-CaptionText)`

3. **Inactive state** (`.panel-title-bar.inactive`):
   - `background: linear-gradient(to right, var(--win98-InactiveCaption), var(--win98-GradientInactiveCaption))`
   - `color: var(--win98-InactiveCaptionText)`

4. **Default** (`.panel-title-bar` without .active or .inactive): Make the default render as inactive, so the base class alone shows the grey gradient. This way any title bar without explicit state management degrades gracefully to inactive appearance.

**App.tsx** -- Add focus tracking for the animation panel title bar:

1. Add a state variable `const [focusedPanel, setFocusedPanel] = useState<string | null>(null)` to track which panel has focus.

2. For the animation panel container `<div className="animation-panel-container">`:
   - Add `onMouseDown={() => setFocusedPanel('animations')}` to set focus when clicked.
   - Add `tabIndex={-1}` to make it focusable.

3. For the main canvas area `<div className="main-area">`:
   - Add `onMouseDown={() => setFocusedPanel('canvas')}` to set focus when clicked.

4. Update the animation panel title bar from:
   `<div className="panel-title-bar">Animations</div>`
   to:
   `<div className={`panel-title-bar ${focusedPanel === 'animations' ? 'active' : 'inactive'}`}>Animations</div>`

5. The title bar shows the panel name (already "Animations"). Keep it static text -- this is a single-document editor, so just the panel name is sufficient.

This gives basic focus tracking: clicking the animation panel turns its title bar blue, clicking the canvas turns it grey. A simple approach that meets the "Active = blue, Inactive = grey" requirement.
  </action>
  <verify>
Run `npm run typecheck` to confirm no TypeScript errors. Click the animation panel -- title bar turns blue gradient. Click the canvas -- animation title bar turns grey gradient.
  </verify>
  <done>
Panel title bars show blue gradient when active (panel clicked) and grey gradient when inactive. Focus tracking works between canvas and animation panel.
  </done>
</task>

</tasks>

<verification>
1. `npm run typecheck` passes without errors
2. Vertical divider: 4px thin, raised borders, no hover highlight
3. Horizontal divider: 4px thin, raised borders, no hover highlight
4. Both dividers look identical in visual weight and style
5. Animation panel title bar: blue gradient when panel is focused
6. Animation panel title bar: grey gradient when canvas area is focused
7. No CSS transitions on any chrome elements
</verification>

<success_criteria>
- CHROME-03: Panel dividers appear as uniform thin raised bars with cursor-change-only hover
- CHROME-04: Title bars show active (blue) and inactive (grey) gradients based on panel focus
</success_criteria>

<output>
After completion, create `.planning/phases/13-application-chrome/13-02-SUMMARY.md`
</output>
