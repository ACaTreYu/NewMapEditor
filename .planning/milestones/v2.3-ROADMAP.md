# Milestone v2.3: Minimap Independence

**Status:** SHIPPED 2026-02-10
**Phases:** 38
**Total Plans:** 1

## Overview

Make the minimap an always-visible, independent component with checkerboard empty-state rendering. The minimap previously returned null when no map was loaded, making it invisible on startup. This milestone extracts it into a self-contained component that always renders, with a Photoshop-style checkerboard background for empty areas.

## Phases

### Phase 38: Minimap Component Extraction
**Goal**: Minimap renders independently with always-visible empty state
**Depends on**: Phase 37
**Requirements**: MMAP-01, MMAP-02, MMAP-03, MMAP-04, MMAP-05
**Plans**: 1 plan

Plans:
- [x] 38-01: Always-visible minimap with checkerboard empty state and sidebar width alignment

**Details:**
- Removed early return null â€” minimap always renders JSX
- Cached checkerboard pattern (16x16 canvas, 8x8 blocks, #C0C0C0/#FFFFFF)
- Layered rendering: checkerboard base, tile imageData, viewport rectangle
- DEFAULT_TILE pixels rendered with checkerboard colors inline in imageData
- Empty state shows centered "Minimap" label as React overlay
- Right sidebar locked at 130px (128px canvas + 2px border)
- Animation panel width expanded from 70px to fill sidebar
- Sidebar collapse toggle button for full-canvas view
- Fixed requestIdleCallback binding for stable cache building

---

## Milestone Summary

**Key Decisions:**
- Checkerboard pattern uses 16x16 with 8x8 blocks (#C0C0C0/#FFFFFF) for Photoshop-style empty state
- DEFAULT_TILE rendered with checkerboard colors inline (not transparent alpha compositing)
- Right sidebar fixed at 130px width, pulled out of PanelGroup (not resizable)
- Sidebar collapse toggle added for full-canvas editing mode

**Issues Resolved:**
- requestIdleCallback losing window binding when stored in useRef (bound with .bind(window))
- putImageData overwriting checkerboard (solved by computing checkerboard inline in imageData)
- rIC/cIC unstable references causing idle callback cancellation on every render

**Issues Deferred:**
- None

**Technical Debt Incurred:**
- None

---
_For current project status, see .planning/ROADMAP.md_
