# Milestone v1.1: Canvas & Polish

**Status:** SHIPPED 2026-02-02
**Phases:** 4-6
**Total Plans:** 3

## Overview

v1.1 maximized the map editing canvas through better navigation controls and UI polish. CSS variable consolidation established theming consistency, classic scrollbars provided familiar Windows-style navigation, and collapsible panels gave users control over their workspace.

## Phases

### Phase 4: CSS Variable Consolidation

**Goal**: All component styles use CSS custom properties for consistent theming
**Depends on**: Phase 3 (v1.0 baseline)
**Requirements**: POL-01, POL-02, POL-03, POL-04
**Plans**: 1 plan

Plans:
- [x] 04-01-PLAN.md - CSS variable migration and dual-theme system

**Details:**
- Created two-tier CSS variable system (primitives + semantic tokens)
- Added useTheme hook with localStorage persistence
- Dark and light theme support with class-based switching
- FOUC prevention via inline script
- Migrated 4 CSS files: AnimationPanel, MapSettingsPanel, MapCanvas, StatusBar

**Key Decisions:**
- Two-tier CSS variable system (primitives + semantic tokens) for flexibility
- Class-based theme switching over media queries for programmatic control
- Inline FOUC prevention script

### Phase 5: Classic Scrollbars

**Goal**: Scrollbars behave like classic Windows controls with arrow buttons
**Depends on**: Phase 4
**Requirements**: NAV-01, NAV-02, NAV-03, NAV-04
**Plans**: 1 plan

Plans:
- [x] 05-01-PLAN.md - Arrow buttons, continuous scroll, and track click behavior

**Details:**
- Arrow buttons at each end of both scrollbars
- Single click moves one tile (16px)
- Hold for continuous scroll (250ms delay, 125ms repeat)
- Track click jumps one page
- Reduced scrollbar width from 14px to 10px
- CSS border triangles for theme-aware arrow glyphs

**Key Decisions:**
- CSS border triangles instead of SVG for simpler theme color support
- 10px scrollbar width to maximize canvas space
- 250ms initial delay before continuous scroll
- 125ms repeat rate for ~8 tiles/sec

### Phase 6: Collapsible Panels

**Goal**: Users can maximize canvas space by collapsing the bottom panel
**Depends on**: Phase 5
**Requirements**: PNL-01, PNL-02, PNL-03, PNL-04
**Plans**: 1 plan

Plans:
- [x] 06-01-PLAN.md - Vertical layout with collapsible tabbed bottom panel

**Details:**
- Bottom panel at 20% default height (down from 25%)
- Collapse to tab bar only via button, double-click, or drag
- Expand via button, double-click, drag, or tab click
- CSS border triangle chevrons for collapse button
- Instant transitions (no animations)
- Tab click when collapsed auto-expands panel

**Key Decisions:**
- No localStorage persistence (always start at 20% height)
- Instant collapse/expand transitions (transition: none !important)
- CSS border triangles for collapse button (consistent with Phase 5)

---

## Milestone Summary

**Key Decisions:**
- Two-tier CSS variable system (Rationale: Separates raw colors from usage for flexibility)
- Class-based theme switching (Rationale: Allows programmatic control and user override)
- CSS border triangles for glyphs (Rationale: Theme-aware without SVG complexity)
- 10px scrollbar width (Rationale: Maximize canvas space)
- No panel persistence (Rationale: Predictable initial state)
- Instant transitions (Rationale: Responsive feel)

**Issues Resolved:**
- Hardcoded colors in 4 CSS files now use CSS variables
- Classic scrollbar behavior matches user expectations
- Canvas space maximized with collapsible panel

**Technical Debt Incurred:**
- Orphaned RightSidebar component (created but unused, replaced by TabbedBottomPanel)

---

_For current project status, see .planning/PROJECT.md_
_Archived: 2026-02-02 as part of v1.1 milestone completion_
