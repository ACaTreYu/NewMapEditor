# Milestone v3.3: Animation Offset Control

**Status:** ✅ SHIPPED 2026-02-16
**Phases:** 70
**Total Plans:** 2

## Overview

Enable user-controlled animation offsets for all game object tools, with persistent offset state and picker integration. Users can set frame offset (0-127) in the Animations panel, placed tiles encode the offset value, picker tool extracts offset from existing tiles, and warp routing is decoded into Source/Dest dropdowns.

## Phases

### Phase 70: Animation Offset Control

**Goal**: Users can control animation offsets for placed tiles with picker synchronization and contextual UI
**Depends on**: Phase 69 (completed)
**Plans**: 2 plans

Plans:

- [x] 70-01: Offset state in GlobalSlice, AnimationPanel wiring, GameObjectSystem parameterization
- [x] 70-02: Picker tool offset extraction and warp routing decode

**Details:**

**Requirements:** OFST-01, OFST-02, OFST-03, PICK-01, PICK-02, WARP-01, WARP-02, FDBK-01, FDBK-02

**Success Criteria** (all verified TRUE):
1. User can set animation offset (0-127) in the Animations panel when a game object tool is active, and the value persists across placements until changed
2. Placed animated tiles encode the current offset value and display it in status bar on hover (SEdit format: "Anim: XX Offset: Y")
3. Picker tool captures offset from existing animated tiles and syncs to Animations panel, enabling inspect-adjust-replace workflow
4. Warp tool shows Source/Dest dropdowns that encode routing as offset (dest*10 + src), and picking existing warps populates the dropdowns
5. Offset input validates range (0-127) with visual error feedback for out-of-range values

---

## Milestone Summary

**Key Decisions:**

- Offset in GlobalSlice (not local state): Enables picker sync, persists across component unmount
- Warp uses existing routing mechanism: Static warp routing (dest*10+src) via encodeWarpTile() unchanged
- Error state is local to AnimationPanel: Only visual indicator is local, store always clamps to valid range
- Same offset for all 9 tiles in animated warp pattern: Matches SEdit behavior

**Issues Resolved:**

- Hardcoded offset 0 in GameObjectSystem replaced with parameterized offset via makeAnimatedTile()
- Local frameOffset state in AnimationPanel replaced with GlobalSlice for persistence and picker sync

**Issues Deferred:**

- Offset increment/decrement hotkeys (OFST-04)
- Batch offset adjustment for selected region (OFST-05)
- Per-tile offset editing post-placement (OFST-06)

**Technical Debt Incurred:**

- None — clean implementation using existing patterns

---

_For current project status, see .planning/ROADMAP.md_
