# Milestone v3.0: Panel Layout & Ruler Notes

**Status:** SHIPPED 2026-02-14
**Phases:** 61-63
**Total Plans:** 3

## Overview

Restructure bottom panel layout to fit tile palette to tileset width, add ruler notepad panel in freed space, and enhance ruler with angle display.

## Phases

### Phase 61: Layout Restructure

**Goal**: Tile palette constrained to tileset width (~640px)
**Depends on**: Phase 60
**Requirements**: LAYOUT-01
**Success Criteria** (what must be TRUE):
  1. Tile palette panel (imgTiles) is constrained to tileset image width (~640px)
  2. Tile palette no longer stretches to full app width
  3. Bottom panel layout has freed horizontal space to the right of tile palette
  4. Layout change does not break existing tile selection or panel resize behavior
**Plans**: 1 plan

Plans:
- [x] 61-01-PLAN.md — Constrain tile palette to 640px with flexbox layout and add freed space section

### Phase 62: Ruler Notepad Panel

**Goal**: Editable measurement log with annotations in freed horizontal space
**Depends on**: Phase 61
**Requirements**: LAYOUT-02, NOTE-01, NOTE-02, NOTE-03, NOTE-04, NOTE-05
**Success Criteria** (what must be TRUE):
  1. Ruler notepad panel appears in freed horizontal space beside tile palette
  2. Measurement entries auto-log to notepad when user pins them (P key)
  3. Each entry displays measurement type (line/rectangle/path/radius), value, and timestamp
  4. User can add or edit text labels on any measurement entry
  5. User can delete individual entries from the log via click action
  6. User can copy entire measurement list to clipboard as formatted text
**Plans**: 1 plan

Plans:
- [x] 62-01-PLAN.md — Ruler notepad panel with measurement log, inline editing, deletion, and clipboard export

### Phase 63: Ruler Angle Display & Measurement Visibility

**Goal**: Show angle measurements for line and path modes; decouple measurement visibility from notepad
**Depends on**: Phase 60 (independent of Phase 61-62)
**Requirements**: ANGLE-01, ANGLE-02, VIS-01
**Success Criteria** (what must be TRUE):
  1. Line mode displays angle from horizontal (0° = right, 90° = up, standard math convention)
  2. Path mode displays angle of each segment alongside segment length
  3. Angle values update in real-time during ruler drag
  4. Angles persist correctly when measurements are pinned
  5. Pinned measurements can be hidden from canvas overlay independently of notepad
  6. Hidden measurements remain in notepad with full edit/delete/copy functionality
**Plans**: 1 plan

Plans:
- [x] 63-01-PLAN.md — Add angle calculation/display to LINE and PATH ruler modes + measurement visibility toggle

---

## Milestone Summary

**Key Decisions:**

- Content-only 640px width (borders/padding additional) for tile palette constraint
- Fixed split (no resize handle) — freed space for future content, not user adjustment
- Extract formatMeasurement to shared utility (single source of truth)
- Individual Zustand selectors for render optimization (not destructuring)
- Hover-reveal delete buttons (clean minimalist UI)
- Standard math angle convention (0° = right, 90° = up)
- PATH mode shows segment count, not individual angles (avoids verbosity)
- Visibility toggle uses eye icons (design tool pattern)
- Hidden measurements retain full notepad functionality

**Issues Resolved:**

- None — clean execution across all 3 phases

**Issues Deferred:**

- Custom measurement scales (MEAS-01) deferred to future milestone
- Session persistence for notepad deferred

**Technical Debt Incurred:**

- Three stale empty phase directories remain (16-marquee-selection, 18-tool-investigation-fixes, 20-animation-panel-redesign)

---

_For current project status, see .planning/ROADMAP.md_
