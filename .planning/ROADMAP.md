# Roadmap: AC Map Editor

## Milestones

- ✅ **v1.0 MVP** - Phases 1-3 (shipped 2026-02-01)
- ✅ **v1.1 Canvas & Polish** - Phases 4-6 (shipped 2026-02-02)
- ✅ **v1.2 SEdit-Style Layout** - Phases 7-10 (shipped 2026-02-02)
- ✅ **v1.3 Layout Fix** - Phase 11 (shipped 2026-02-04)
- ✅ **v1.4 Win98 Theme Overhaul** - Phases 12-13 (shipped 2026-02-04)
- ✅ **v1.5 Functional Tools** - Phases 14-15 (shipped 2026-02-04)
- ✅ **v1.6 SELECT & Animation Panel** - Phases 16-20 (shipped 2026-02-08)
- ✅ **v1.7 Performance & Portability** - Phases 21-26 (shipped 2026-02-08)
- ✅ **v2.0 Modern Minimalist UI** - Phases 27-32 (shipped 2026-02-09)
- ✅ **v2.1 MDI Editor & Polish** - Phases 33-36 (shipped 2026-02-09)
- ✅ **v2.2 Transparency & Performance** - Phase 37 (shipped 2026-02-09)
- ✅ **v2.3 Minimap Independence** - Phase 38 (shipped 2026-02-10)
- ✅ **v2.4 MDI Window Controls** - Phases 39-40 (shipped 2026-02-10)
- ✅ **v2.5 Selection Transform Tools** - Phases 41-43 (shipped 2026-02-11)
- ✅ **v2.6 Viewport & Animation Fixes** - Phases 44-46 (shipped 2026-02-11)
- ✅ **v2.7 Rendering & Navigation** - Phases 47-50 (shipped 2026-02-12)
- ✅ **v2.8 Canvas Engine** - Phases 51-55 (shipped 2026-02-13)
- ✅ **v2.9 Measurement & Grid** - Phases 56-60 (shipped 2026-02-13)
- ✅ **v3.0 Panel Layout & Ruler Notes** - Phases 61-63 (shipped 2026-02-14)
- ✅ **v3.1 Rendering Fixes & UX Polish** - Phases 64-67 (shipped 2026-02-14)
- ✅ **v3.2 Animated Game Objects & Farplane Toggle** - Phases 68-69 (shipped 2026-02-15)
- ✅ **v3.3 Animation Offset Control** - Phase 70 (shipped 2026-02-16)
- ✅ **v3.4 Tool Polish & Warm UI** - Phases 71-76 (shipped 2026-02-16)
- ✅ **v3.5 Warp Expansion & Cleanup** - Phases 77-78 (shipped 2026-02-16)
- ✅ **v3.6 Toolbar Icons & Panel Polish** - Phase 79 (shipped 2026-02-16)
- ✅ **v3.7 Sidebar Independence** - Phase 80 (shipped 2026-02-16)
- ✅ **v1.0.2 Bug Fixes & Branding** - Phase 81 (shipped 2026-02-17)
- ✅ **v1.0.4 Settings Overhaul & Image Trace** - Phases 82-85 (shipped 2026-02-17)
- ✅ **v1.0.5 Settings Lifecycle Fix** - Phase 86 (shipped 2026-02-17)
- ✅ **v1.0.6 Layout Simplification & Theme System** - Phase 87 (shipped 2026-02-18)
- ✅ **v1.1.2-linux Linux Port & Cross-Platform Architecture** - Phases 88-90 (shipped 2026-02-18)
- ✅ **v1.1.3 Fixes & Polish** - Phases 91-94 (shipped 2026-02-20)
- ✅ **v1.1.4 Animated Tool Icons & Update Audit** - Phases 95-98 (shipped 2026-02-20)
- ✅ **v1.2.3 Canvas Backgrounds & Fixes** - Phases 99-101 (shipped 2026-02-26)

## Phases

<details>
<summary>✅ v1.0 MVP (Phases 1-3) - SHIPPED 2026-02-01</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v1.1 Canvas & Polish (Phases 4-6) - SHIPPED 2026-02-02</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v1.2 SEdit-Style Layout (Phases 7-10) - SHIPPED 2026-02-02</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v1.3 Layout Fix (Phase 11) - SHIPPED 2026-02-04</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v1.4 Win98 Theme Overhaul (Phases 12-13) - SHIPPED 2026-02-04</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v1.5 Functional Tools (Phases 14-15) - SHIPPED 2026-02-04</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v1.6 SELECT & Animation Panel (Phases 16-20) - SHIPPED 2026-02-08</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v1.7 Performance & Portability (Phases 21-26) - SHIPPED 2026-02-08</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v2.0 Modern Minimalist UI (Phases 27-32) - SHIPPED 2026-02-09</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v2.1 MDI Editor & Polish (Phases 33-36) - SHIPPED 2026-02-09</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v2.2 Transparency & Performance (Phase 37) - SHIPPED 2026-02-09</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v2.3 Minimap Independence (Phase 38) - SHIPPED 2026-02-10</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v2.4 MDI Window Controls (Phases 39-40) - SHIPPED 2026-02-10</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v2.5 Selection Transform Tools (Phases 41-43) - SHIPPED 2026-02-11</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v2.6 Viewport & Animation Fixes (Phases 44-46) - SHIPPED 2026-02-11</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v2.7 Rendering & Navigation (Phases 47-50) - SHIPPED 2026-02-12</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v2.8 Canvas Engine (Phases 51-55) - SHIPPED 2026-02-13</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v2.9 Measurement & Grid (Phases 56-60) - SHIPPED 2026-02-13</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v3.0 Panel Layout & Ruler Notes (Phases 61-63) - SHIPPED 2026-02-14</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v3.1 Rendering Fixes & UX Polish (Phases 64-67) - SHIPPED 2026-02-14</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v3.2 Animated Game Objects & Farplane Toggle (Phases 68-69) - SHIPPED 2026-02-15</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v3.3 Animation Offset Control (Phase 70) - SHIPPED 2026-02-16</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v3.4 Tool Polish & Warm UI (Phases 71-76) - SHIPPED 2026-02-16</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v3.5 Warp Expansion & Cleanup (Phases 77-78) - SHIPPED 2026-02-16</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v3.6 Toolbar Icons & Panel Polish (Phase 79) - SHIPPED 2026-02-16</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v3.7 Sidebar Independence (Phase 80) - SHIPPED 2026-02-16</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v1.0.2 Bug Fixes & Branding (Phase 81) - SHIPPED 2026-02-17</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v1.0.4 Settings Overhaul & Image Trace (Phases 82-85) - SHIPPED 2026-02-17</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v1.0.5 Settings Lifecycle Fix (Phase 86) - SHIPPED 2026-02-17</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

<details>
<summary>✅ v1.0.6 Layout Simplification & Theme System (Phase 87) - SHIPPED 2026-02-18</summary>

### Phase 87: Sidebar Removal & Theme System
**Goal:** Remove sidebar, overlay minimap/tool panel on canvas, add 3-theme system (Light/Dark/Terminal)
- Removed right sidebar entirely, floated minimap + game object tool panel as canvas overlays
- 3-theme system via View > Theme menu with localStorage persistence and FOUC prevention
- Dark theme (blue-grey OKLCH), Terminal theme (green CRT + monospace)
- Electron IPC sync for menu radio state, color-scheme: dark for native controls
- Gold --text-heading token, dialog/select/slider theme support

</details>

<details>
<summary>✅ v1.1.2-linux Linux Port & Cross-Platform Architecture (Phases 88-90) - SHIPPED 2026-02-18</summary>

- [x] Phase 88: Build Architecture (1/1 plan) — completed 2026-02-18
- [x] Phase 89: Platform Polish (2/2 plans) — completed 2026-02-18
- [x] Phase 90: Distribution (ad-hoc) — completed 2026-02-18

</details>

<details>
<summary>✅ v1.1.3 Fixes & Polish (Phases 91-94) - SHIPPED 2026-02-20</summary>

**Milestone Goal:** Fix settings bugs, improve canvas boundary visualization, and add selection/UI quality-of-life features so the editor works correctly and feels polished for everyday map editing.

- [x] **Phase 91: Overlay Z-Order & Minimap Size** - Fix minimap and tool panel visibility above maximized windows; enlarge minimap — completed 2026-02-20
- [x] **Phase 92: Settings Bug Fixes** - Unified weapon dropdowns, Flagger sync, TurretAssassin mode, SETT-02 confirmed non-issue — completed 2026-02-20
- [x] **Phase 93: Map Boundary Visualization** - Render distinct outside-map area so map edges are visible during editing near tile row/column 255 — completed 2026-02-20
- [x] **Phase 94: Move Selection Tool** - Enable dragging selection marquee to reposition without affecting tiles — completed 2026-02-20

#### Phase 91: Overlay Z-Order & Minimap Size
**Goal:** Minimap and game object tool panel are always visible above maximized MDI windows, and the minimap is 160x160 pixels
**Depends on:** Nothing (CSS-only and single-constant changes, no code dependencies)
**Requirements:** OVRL-01, OVRL-02
**Success Criteria** (what must be TRUE):
  1. Maximizing any MDI child window no longer covers the minimap or game object tool panel
  2. The minimap renders at 160x160 pixels across all three themes (Light, Dark, Terminal)
  3. At minimum window size (800x600), the minimap and tool panel do not overlap each other
  4. The z-index budget is documented in a CSS comment so future developers understand the stacking context boundaries
**Plans:** 1 plan

Plans:
- [x] 91-01: Raise overlay z-indexes, document z-index budget, enlarge minimap to 160x160 with rendering loop fix

#### Phase 92: Settings Bug Fixes
**Goal:** All 53 game settings reliably appear in the SEdit description field after any save, and grenade/bouncy weapon dropdowns correctly update their slider values
**Depends on:** Nothing (settings logic is independent of all canvas/overlay work)
**Requirements:** SETT-01, SETT-02
**Success Criteria** (what must be TRUE):
  1. Selecting a Grenade damage preset from the dropdown immediately updates the corresponding slider to the matching position
  2. Selecting a Bouncy damage/recharge preset from the dropdown immediately updates the corresponding slider to the matching position
  3. Opening a saved map in SEdit shows all 53 settings in the description field, not a partial subset
  4. Saving a new map without ever opening the settings dialog still produces a complete description field in SEdit
**Plans:** 2 plans

Plans:
- [x] 92-01: Unified weapon dropdowns, Flagger sync, TurretAssassin mode, new map defaults, SETT-02 triage
- [x] 92-02: Skipped — SETT-02 confirmed non-issue (user scroll issue in SEdit)

#### Phase 93: Map Boundary Visualization
**Goal:** The 256x256 editable map area has a visually distinct boundary so users can see where the map ends during editing near tile row/column 255
**Depends on:** Phase 91 (establishes stable canvas layer structure and z-index budget before adding new canvas content)
**Requirements:** CNVS-01
**Success Criteria** (what must be TRUE):
  1. The area outside the 256x256 map renders in a distinct color that is visually different from DEFAULT_TILE (tile 280) in all three themes
  2. A border line marks the exact edge of the map at tile coordinates (0,0)-(256,256) on the UI canvas overlay
  3. The boundary color and border update correctly when the user switches themes without requiring a canvas refresh
  4. At all zoom levels (0.25x to 4x), the boundary remains correctly aligned with the map edge
**Plans:** 1 plan

Plans:
- [x] 93-01: CSS tokens + out-of-map fill in CanvasEngine + border line in drawUiLayer + theme-change MutationObserver

#### Phase 94: Move Selection Tool
**Goal:** Users can reposition the selection marquee border by dragging inside an active selection without affecting the tiles underneath
**Depends on:** Phase 93 (MapCanvas.tsx must be stable with all new canvas layers before adding move-selection mouse handler branching)
**Requirements:** SLCT-01
**Success Criteria** (what must be TRUE):
  1. Clicking and dragging inside an active selection moves the marquee border to follow the cursor without modifying any tiles
  2. The cursor changes to a move cursor when hovering inside an active selection, providing a clear affordance
  3. Pressing Escape during a move drag reverts the marquee to its original position
  4. After a completed move, cut/copy/delete operations act on the new marquee position, not the original one
  5. Arrow keys nudge the marquee 1 tile per press (10 tiles with Shift held) while a selection is active
**Plans:** 1 plan

Plans:
- [x] 94-01: selectionMoveRef, mouse handler branching, drawUiLayer preview, Escape revert, cursor affordance, arrow key nudge

</details>

<details>
<summary>✅ v1.1.4 Animated Tool Icons & Update Audit (Phases 95-98) - SHIPPED 2026-02-20</summary>

**Milestone Goal:** Replace static PNG toolbar icons with tileset-rendered animated icons for all six game object tools, animate those icons on hover and active states, add a theme-adaptive bunker icon, and verify auto-updater correctness on both platforms.

- [x] **Phase 95: Tileset-Rendered Icons** - Convert flag, pole, warp, spawn, switch, conveyor toolbar icons to tileset-rendered canvas snippets — completed 2026-02-20
- [x] **Phase 96: Icon Animation** - Animate tileset-rendered game object tool icons when hovered or actively selected — completed 2026-02-20
- [x] **Phase 97: Theme-Adaptive Bunker Icon** - Render bunker PNG inverted (black to white, transparency preserved) in Dark and Terminal themes — completed 2026-02-20
- [x] **Phase 98: Auto-Updater Audit** - Verify Windows and Linux update flows; disable autoInstallOnAppQuit on Linux — completed 2026-02-20

#### Phase 95: Tileset-Rendered Icons
**Goal:** All six game object tool buttons display icons drawn from the actual loaded tileset rather than static PNG files
**Depends on:** Nothing (extends the existing tileset-rendered icon pattern established in v3.6 for spawn/pole/warp)
**Requirements:** ICON-01, ICON-02, ICON-03, ICON-04, ICON-05, ICON-06
**Success Criteria** (what must be TRUE):
  1. The flag, pole, warp, spawn, switch, and conveyor toolbar buttons each display a tile image drawn from the loaded tileset at the tile ID the user specifies
  2. When no tileset is loaded, the icons fall back gracefully (placeholder or hidden) without a JavaScript error
  3. When a different GFX patch is loaded, all six icons update to reflect the new tileset's tile content at those same IDs
  4. Icon dimensions are consistent with existing tileset-rendered icons (spawn, pole, warp from v3.6)
**Plans:** 1 plan

Plans:
- [x] 95-01: Tileset-rendered icons for all 8 game object tools; 3x3 composites for switch/warp; bunker PNG with dark-theme inversion

#### Phase 96: Icon Animation
**Goal:** Game object tool icons that are tileset-rendered play a looping animation when the user hovers over them or when the corresponding tool is active
**Depends on:** Phase 95 (icons must be tileset-rendered before animation can be applied to them)
**Requirements:** ICON-07, ICON-08
**Success Criteria** (what must be TRUE):
  1. Hovering the mouse over a game object tool button starts the icon cycling through its animation frames
  2. When a game object tool is the active tool, its toolbar button icon animates continuously
  3. Moving the mouse away from an idle (non-active) tool button stops the animation and returns to the first frame
  4. The animation frame rate matches the global animation timer already driving tile animations on the map canvas
**Plans:** 1 plan

Plans:
- [x] 96-01: Animated icon rendering with hover/active state and timer keepalive

#### Phase 97: Theme-Adaptive Bunker Icon
**Goal:** The bunker tool icon automatically inverts to white when the Dark or Terminal theme is active so it remains visible against dark toolbar backgrounds
**Depends on:** Nothing (CSS filter or canvas inversion is independent of icon animation work)
**Requirements:** THEME-01
**Success Criteria** (what must be TRUE):
  1. In the Light theme, the bunker icon displays its original black-on-transparent PNG
  2. In the Dark theme, the bunker icon displays as white-on-transparent (black pixels become white, transparency is preserved)
  3. In the Terminal theme, the bunker icon displays as white-on-transparent matching the Dark theme behavior
  4. Switching themes at runtime updates the bunker icon immediately without a page reload
**Plans:** 1 plan

Plans:
- [x] 97-01: CSS filter:invert(1) via .png-tool-icon on [data-theme=dark] and [data-theme=terminal]

#### Phase 98: Auto-Updater Audit
**Goal:** Both Windows and Linux auto-update flows are verified to work end-to-end, and Linux does not prompt a pkexec install dialog on normal application quit
**Depends on:** Nothing (audit and code fix are independent of all UI icon work)
**Plans:** 1 plan

Plans:
- [x] 98-01: Auto-updater audit and platform-conditional autoInstallOnAppQuit fix

</details>

<details>
<summary>✅ v1.2.3 Canvas Backgrounds & Fixes (Phases 99-101) - SHIPPED 2026-02-26</summary>

Collapsed for brevity. See MILESTONES.md for details.

</details>

## Progress

| Phase | Milestone | Plans Complete | Status | Completed |
|-------|-----------|----------------|--------|-----------|
| 1-85. All milestones | v1.0-v1.0.4 | 124/124 | Complete | 2026-02-17 |
| 86. Settings Lifecycle | v1.0.5 | 1/1 | Complete | 2026-02-17 |
| 87. Sidebar Removal & Theme System | v1.0.6 | retroactive | Complete | 2026-02-18 |
| 88. Build Architecture | v1.1.2-linux | 1/1 | Complete | 2026-02-18 |
| 89. Platform Polish | v1.1.2-linux | 2/2 | Complete | 2026-02-18 |
| 90. Distribution | v1.1.2-linux | ad-hoc | Complete | 2026-02-18 |
| 91. Overlay Z-Order & Minimap Size | v1.1.3 | 1/1 | Complete | 2026-02-20 |
| 92. Settings Bug Fixes | v1.1.3 | 2/2 | Complete | 2026-02-20 |
| 93. Map Boundary Visualization | v1.1.3 | 1/1 | Complete | 2026-02-20 |
| 94. Move Selection Tool | v1.1.3 | 1/1 | Complete | 2026-02-20 |
| 95. Tileset-Rendered Icons | v1.1.4 | 1/1 | Complete | 2026-02-20 |
| 96. Icon Animation | v1.1.4 | 1/1 | Complete | 2026-02-20 |
| 97. Theme-Adaptive Bunker Icon | v1.1.4 | 1/1 | Complete | 2026-02-20 |
| 98. Auto-Updater Audit | v1.1.4 | 1/1 | Complete | 2026-02-20 |
| 99-101. All v1.2.3 phases | v1.2.3 | 4/4 | Complete | 2026-02-26 |

---

*Roadmap created: 2026-02-17 for milestone v1.0.4*
*Last updated: 2026-02-26 — Milestone v1.2.3 archived*
